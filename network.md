<h3>Network 내용 정리</h3>



<h4>웹 브라우저</h4>

* 웹 브라우저의 역할 

      1. Http 리퀘스트 메시지 작성 : 사용자가 웹 브라우저에 URL을 입력하면 브라우저는 URL에 따라 리퀘스트 메시지를 만든다.
      2. 웹 서버의 IP 주소를 DNS 서버에서 조회 : 메시지를 다 만든 웹 브라우저는 OS에 의뢰해 메시지를 웹 서버에 송신하는데 이때 메시지를 넘기는 대상 서버의 IP 주소를 OS에 통지해야 한다. URL 안에는 웹 서버의 도메인명이 쓰여있으므로 DNS 서버를 통해 해당 IP 주소를 조사한다.
      3. IP주소 조회 요청을 받은 DNS는 전 세계의 DNS 서버와 연대하여 IP 주소를 검색하여 응답한다.
      4. 프로토콜 스택에 메시지 송신 의뢰 : IP 주소를 DNS 서버로부터 응답 받으면 OS에 메시지 전송을 의뢰 하는데, 이 의뢰하는 방법도 규약이 있고 이를 프로토콜 스택이라고 한다.

1. 통신은URL 입력부터 시작한다.  
사용자가 브라우저에 입력하는 URL은 ${Protocol}: 포맷으로 시작한다. 브라우저는 http 프로토콜 외에 ftp, mailto와 같은 다양한 프로토콜을 지원한다(프로토콜은 통신하는 필요한 약속된 절차) http는 웹서버와 통신하는 규약이라고 생각하면 된다. 
2. 브라우저는 먼저 URL을 해독한다.  
일반적인 http 프로토콜 URL은 다음과 같이 해석될 수 있다. http://www.mysite.co.kr/secret/member.html 을 예로 들면, http 프로토콜을 사용하고 www.mysite.co.kr 이라는 도메인 이름을 가진 웹 서버에 /secret/member.html 이라는 파일을 요청한다(이 파일 부분을 일반적으로 URI라고 한다).  
3. http 요청 메시지를 만든다.  
http 프로토콜을 활용해 요청 메시지를 보낼 땐 '무엇을', '어떻게' 하라는 의미가 들어있다. 먼저 '무엇을'에 해당하는 것이 URI이다. 다음으로 '어떻게'에 해당하는 부분이 http의 메소드 개념이다. http에는 GET, POST, PUT, DELETE 등등 다양한 메소드가 존재한다.  
4. 요청 메시지를 보내면 응답이 되돌아온다.  
브라우저는 응답 데이터에 image 또는 영상을 나타내는 태그 해당 부분을 비워둔 후 응답 데이터를 페이지로 만든다. 그리고 해당 태그에 해당하는 데이터를 다시 웹 서버에 요청한다. http 프로토콜은 한 번 요청에 하나의 데이터를 가져올 수 있으므로 만약 응답 페이지에 3개의 이미지가 있다면 총 4번의 요청을 보내게 된다.  

* 웹 서버의 IP주소를 DNS서버에 조회한다.  

1. IP주소의 구성
서브넷(PC와 같은 여러대의 네트워크 접속 장비들을 허브로 연결한 후 라우터에 연결한 하나의 묶음)의 집합인 네트워크에서 요청할 서버를 찾는데 사용되는 키 값이 IP주소이다. IP주소는 네트워크 번호와 호스트 번호로 나뉜다. 네트워크 번호를 통해 서브넷을 찾고, 나머지 호스트 번호를 통해 서브넷에서 네트워크 접속 장비를 찾는다. 예를 들어, 192.168.100.120/24 라고 한다면, 24bit인 192.168.100은 네트워크 번호이고 마지막 120번은 호스트 번호가 된다.  
2. Socket 라이브러리를 이용하여 DNS에 요청을 보내 IP 주소를 찾는다.  

* 전 세계의 DNS 서버가 연대한다  
수 많은 웹 서버의 정보를 하나의 DNS 서버에 등록하는 것은 불가능하기에 다수의 DNS 서버가 정보를 분산/등록하고 연대하는 구조이다. 일반적인 know.co.kr 과 같은 URL은 도메인 구조를 가지고 있다. kr(한국)이라는 도메인 하위에 co(회사)라는 도메인 그리고 그 하위에 know라는 도메인이 있는 것이다. 이 도메인 구조를 통해 모든 DNS 서버를 조회 안하고 효과적으로 IP를 찾을 수 있다. 하위 도메인을 담당하는 DNS 서버의 IP 주소를 상위 도메인을 관리하는 DNS 서버에 등록을 하여 IP 주소 조회 시, 상위 도메인의 DNS부터 차례로 내려가며 검색할 수 있다. 추가로 모든 DNS 서버는 최상위 도메인 DNS 서버(루트 DNS)의 IP 주소를 등록하여 어느 DNS를 통해서도 루트 DNS로 향할 수 있도록 한다.  

* 프로토콜 스택에 메시지 송신을 의뢰한다  
IP주소를 DNS로부터 알아냈으면 웹 서버에 메시지를 송신하도록 OS의 내부에 있는 프로토콜 스택에 송신을 의뢰한다. 마찬가지로 OS에 송신을 의뢰하기 위해선 Socket 라이브러리를 활용한다. 과정은 **'소켓 생성 > 서버의 생성된 소켓에 파이프 연결 > 데이터 송수신 > 파이프 분리 및 소켓 말소'** 이다. 







<br>
<br>
<h4></h4>

<br>
<br>
<h4></h4>

<br>
<br>
<h4></h4>

<br>
<br>
<h4></h4>

<br>
<br>
<h4></h4>

<br>
<br>
<h4></h4>

<br>
<br>
<h4></h4>

<br>
<br>
<h4></h4>

<br>
<br>
<h4></h4>

<br>
<br>
<h4></h4>

<br>
<br>
<h4></h4>

<br>
<br>
<h4></h4>

<br>
<br>
<h4></h4>

<br>
<br>
<h4></h4>

<br>
<br>
<h4></h4>

<br>
<br>
<h4></h4>

<br>
<br>
<h4></h4>

<br>
<br>
<h4></h4>

<br>
<br>
<h4></h4>

<br>
<br>
<h4></h4>

<br>
<br>
<h4></h4>

<br>
<br>
<h4></h4>

<br>
<br>
<h4></h4>

